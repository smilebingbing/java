<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html";charset="gbk">
<title>Insert title here</title>
<script type="text/javascript">

/*
 * 为#employeetable 的所有的a节点添加Onclick响应函数：
 *1.弹出确认对话框:确定要删除xx的信息吗?xx为当前a节点所在的td所在的tr的第一个td子节点的文本值，
*		 且要去除前后空格。
 *2.若点击"确认",要删除a节点的所在的行
 *
 * 注意：
 * 1.a节点是一个超级链接，可以在其onclick事件中通过返回false,来取消默认行为
 * 2.tr的直接父节点
 *3.可以把去除前后空格的代码写成一个trim(str)函数
 *
 *为#addEmpButton添加onclick响应函数
 * 1. 获取#name,#email,#salary的文本框的值
 * 2. 利用1获取的文本值创建3个td节点，在创建一个tr节点.并把以上的3个td节点加为tr节点的子节点
 * <tr>
 * 		<td></td>
 		<td></td>
 		<td></td>
   </tr>
 * 3.在创建一个td节点:<td><a href="deleteEmp?id=xxx">Delete</a></td>
 * 4.把3创建的td也加为tr的子节点
 * 5.再把tr加为#employeetable的tbody子节点的子节点
 * 6.为新创建的tr的a子节点添加onclick响应函数，使其也具备删除的功能。
 */

 window.onload=function(){
	 
	 var aNode=document.getElementById("employeetable")
	                   .getElementsByTagName("a");
	 for(var i=0;i<aNodes.length;i++){
		 aNode[i].onclick=function(){
			
			 var trNode=this.parentNode.parentNode;
			 
			 var textContent=trNode.getElementsByTagName("td")[0].firstChild.nodeValue;
			 
			 textContent=trim(textContent);
			 
			 var flag=confirm("确定要删除"+textContent+"的信息吗？");
			 
			 if(flag){
				 trNode.parentNode.removeChild(trNode);
			 }
			 alert(textContent);
			 
			 return false;
		 }
	 }
	
	 function trim(str){
		 var reg=/^\s*|\s*$/g;
		 return str.replace(reg,"");
	 }
	 
	 
 }
 
 
</script>
</head>
<body>

	<center>
		<br> <br>添加新员工<br><br> 
		name: <input type="text" name="name" id="name" />&nbsp;&nbsp;
		email: <input type="text" name="email" id="email" />&nbsp;&nbsp;
		salary: <input type="text" name="salary" id="salary" /><br><br>
		<button id="addEmpButton">Submit</button>
		<br><br>
		<hr>
		<br><br>
		<table id="employeetable" border="1" cellpadding="5" cellspacing="0">
			<tbody>
				<tr>
					<th>Name</th>
					<th>Email</th>
					<th>Salary</th>
					<th>&nbsp;</th>
				</tr>
				<tr>
					<td>Tom</td>
					<td>tom@tom.com</td>
					<td>5000</td>
					<td><a href="deleteEmp?id=001">Delete</a></td>
				</tr>
				<tr>
					<td>Jerry</td>
					<td>jerry@sohu.com</td>
					<td>8000</td>
					<td><a href="deleteEmp?id=002">Delete</a></td>
				</tr>	
				<tr>
					<td>Bob</td>
					<td>bob@tom.com</td>
					<td>10000</td>
					<td><a href="deleteEmp?id=003">Delete</a></td>
				</tr>			
			</tbody>
								
		</table>
	
	
	
	
	</center>
</body>
</html>