package com.java.offer;
//二叉搜索树的后序遍历序列
/*
 * 二叉搜索树就是二叉排序树,根的左子树的值比根节点值小，根的右子树的值比根节点值大
 */
public class Solution27 {

	public boolean VerifySquenceOfBST(int [] sequence) {
        if(sequence == null ){
        	return false;
        }
        return isSortTree(sequence, 0, sequence.length);
        
	}
	
	public boolean isSortTree(int [] sequence ,int start , int end){
        int root = sequence[end - 1];
        int i = 0;
        for(;i<sequence.length; i++){
        	if(sequence[i] > root){
        		break;
        	}
        }
        int j=i;
        for(;j<sequence.length; j++){
        	if(sequence[j] < root){
        		return false;
        	}
        }
        boolean left = true;
        if(i > 0){
        	left = isSortTree(sequence, 0, i);
        }
        
        boolean right = true;
        if(i < end-1){
        	right = isSortTree(sequence, i, end);
        }
        return left && right;
        
    }
}
